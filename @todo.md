# メディアログアプリ MVP タスク一覧

## セットアップと基本構造

- [x] Next.jsプロジェクトの作成
  - ✅ `npx create-next-app@latest record_media --typescript --app --tailwind --eslint --src-dir --no-experimental-app`

- [x] プロジェクト構造のセットアップ
  - ✅ src/components ディレクトリの作成と整理
  - ✅ src/lib ディレクトリの整備
  - ✅ 共通コンポーネントの設計

## データベース設計・実装

- [x] 🟡 SQLiteデータベースのセットアップ
  - ✅ Prismaのインストールと設定
  - ✅ データベースモデルの設計（メディア情報テーブル）
  - ✅ マイグレーションファイルの作成と実行

- [x] 🟡 データアクセスレイヤーの実装
  - ✅ メディア情報のCRUD操作関数の実装
  - ✅ Server Actionsの実装

## UI実装

- [x] 🟡 レイアウト・共通コンポーネントの実装
  - ✅ メインレイアウトの作成
  - ✅ ヘッダーコンポーネントの実装
  - ✅ ナビゲーションの設計

- [x] 🟡 ホーム画面の実装（メディア一覧画面）
  - ✅ メディア情報カードコンポーネントの作成
  - ✅ 空の状態表示の実装
  - ✅ 時系列でのリスト表示実装

- [x] 🔴 新規メディア登録フォームの実装
  - ✅ メディアタイプ選択UI（ラジオボタン）
  - ✅ タイトル入力フィールド
  - ✅ 評価（1〜5の星）選択UI
  - ✅ コメント入力フィールド
  - ✅ 保存ボタンの実装
  - ✅ バリデーション処理の実装

- [x] 🟢 削除機能の実装
  - ✅ 削除ボタンの実装
  - ✅ 削除処理の実装

## 状態管理・データフロー

- [x] 🟡 メディア情報のデータフロー実装
  - ✅ Server ComponentsでのSQLiteデータ取得
  - ✅ Server Actionsでのデータ操作

## スタイリング・UI/UX

- [x] 🟢 レスポンシブデザインの実装
  - ✅ モバイル最適化UI
  - ✅ デスクトップ表示の最適化

- [x] 🟢 ダークモード対応
  - ✅ Tailwind CSSを使ったダークモード実装

## テスト・最適化

- [x] 🟢 パフォーマンス最適化
  - ✅ コンポーネントの最適化
    - React.memo、useMemo、useCallbackの活用
    - 不要な再レンダリングの防止
  - ✅ コード分割と遅延ロード

- [x] ⚪ 手動テスト
  - ✅ 各機能の動作確認
  - ✅ エッジケースのテスト

## デプロイ準備

- [ ] ⚪ ビルド・デプロイ準備
  - 本番環境用ビルドテスト
  - デプロイ手順の確認

## 追加機能検討（MVP完了後）

- [ ] ⚪ 今後の拡張機能候補リスト作成
  - ユーザー認証
  - クラウド同期
  - 検索・フィルタリング機能
  - 編集機能

## 次のステップ

- [x] 🟡 アプリケーションの動作確認
  - ✅ アプリの起動
  - ✅ 基本機能の検証
  - ✅ エラーケースのテスト

- [ ] 🟢 初期データの作成
  - サンプルメディアデータの登録

- [ ] 🟢 UI/UXの改善
  - アニメーションの追加検討
  - ユーザーフィードバックの強化

- [~] 🔴 本番用データベースを準備
  - SupabaseやPostgreSQL環境を用意する
  - `DATABASE_URL`で接続情報を渡す
  - 依存関係: なし
  - 見積時間: 1.5h

- [ ] 🟡 Prisma設定の切り替え
  - `prisma/schema.prisma`の`datasource url`を環境変数化
  - `.gitignore`に`dev.db`を追加
  - `package.json`に`postinstall: "prisma migrate deploy"`を追記
  - 依存関係: 本番用DBの準備
  - 見積時間: 1h

- [x] 🟡 環境変数の管理
  - `.env.production`を作成し本番用設定を記述
  - Vercelダッシュボードに`DATABASE_URL`, `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`, `CLERK_SECRET_KEY`, `NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL`等を登録
  - 依存関係: Prisma設定の切り替え
  - 見積時間: 0.5h

- [x] 🟡 Clerk認証設定
  - 環境変数でリダイレクトURL(`NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL`等)を設定
  - 必要に応じてWebhookエンドポイント(`/api/webhooks/clerk`)を準備
  - 依存関係: 環境変数の管理
  - 見積時間: 0.5h

- [~] 🟢 Vercelプロジェクトの作成とGitHub連携
  - `rollback-before-login`ブランチをVercelに登録
  - ビルドコマンド: `npm run build` / 出力ディレクトリ: `.next`
  - 依存関係: Clerk認証設定
  - 見積時間: 0.5h

- [ ] 🟢 ビルド設定とデプロイ検証
  - プレビュー環境で動作確認（サインイン・メディア投稿・一覧表示）
  - Prisma Migrateのログをチェック
  - 依存関係: Vercelプロジェクトの作成
  - 見積時間: 1h

- [ ] ⚪ カスタムドメイン設定（任意）
  - 独自ドメインのDNS設定（CNAME/Aレコード）
  - SSL証明書の有効化
  - 依存関係: ビルド設定とデプロイ検証
  - 見積時間: 0.5h

- [ ] ⚪ モニタリングとアラート導入
  - Vercelのデプロイ通知設定
  - Sentryなどエラートラッキングの導入検討
  - 依存関係: ビルド設定とデプロイ検証
  - 見積時間: 1h 